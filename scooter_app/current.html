<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Scooter</title>
    <link href="css/current.css" rel = "stylesheet" type = "text/css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@600&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Mulish:wght@500;800;900&display=swap');
    </style>
    <script type="text/javascript" src="js/current.js"></script>
    <meta name = "viewport" content = "width=device-width, initial-scale=1.0">
</head>
<body>
    <div class = "banner">
        <img src = "images/logo2.png" class = "logo"/>
        <input type="checkbox" id = "menuToggle">
        <label for="menuToggle" class="menu-btn" style="width: auto; height: auto;"><img src="images/brg.png"height ="8%" width="8%"></label> 
        <label for="menuToggle" class="menu-btn-2" style="width: auto; height: auto;"><img src="images/brg_close.png"height ="8%" width="8%"></label>
        <ul class = "brg-menu">
            <li><a href = "index.html" class = "brg-menu-item">About</a></li>
            <li><a href = "current.html" class = "brg-menu-item">Available Space</a>
            <li><a href = "history.html" class = "brg-menu-item">History Data</a>
            <li><a href = "form.html" class = "brg-menu-item">Feedback</a>
        </ul>
    </div>
    <div class = "form">
        <p class = "current-title">Available Space</p>
        <div class = "number" data-target="37"></div>
    </div>
</body>
<script>
    const numbers = document.querySelectorAll('.number');
    console.log("get number", numbers);

    numbers.forEach(counter => {
        counter.innerText = 0;

        const upDateNumber = () => {
            const target = Number(counter.getAttribute('data-target')); // 37
            const current = Number(counter.innerText);
            const increment = target / 525;
            if (current < target) {
                counter.innerText = `${Math.ceil(current + increment)}`;
                // 1ms重新调用，不然會在第一次運行完就結束
                setTimeout(upDateNumber, 1);
            } else {
                counter.innerText = target;
            }
        };
        upDateNumber();
    })
</script>
</html>